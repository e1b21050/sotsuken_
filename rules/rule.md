# 字句規約

<プログラム> ::= { <トークン> }

<トークン> ::= <キーワード> | <識別子> | <整数> | <実数> | <文字列> | <記号>

<識別子> ::= <英字> {<英字>| <数字>}

<英字> ::= ‘a’ · · · ‘z’ | ‘A’ · · · ‘Z’ | ‘_’

<数字> ::= ‘0’ | ‘1’ | ‘2’ | ‘3’ | ‘4’ | ‘5’ | ‘6’ | ‘7’ | ‘8’ | ‘9’

<キーワード> ::= ‘print’ | ‘for’ | ‘range’| 'sep' | 'end' | 'if' | 'elif' | 'else' | 
'while' | 'int' | 'float' | 'input' | 'split' | 'map' | 'list' | 'import'

<整数> ::= <数字>{<数字>}

<実数> ::= {<数字>} “.” <数字>{<数字>}

<文字列> ::= ‘"’ { 二重引用符以外の任意の文字 } ‘"’ | ‘'’ { 引用符以外の任意の文字 } ‘'’

<記号> ::= 
<論理和演算子> | <論理積演算子> | <否定演算子> | <比較演算子> | <累算演算子> | <累算演算子2> | 
<代入演算子> | <加算演算子> | <減算演算子> | <乗算演算子> | <除算演算子> | <剰余演算子> | 
<切り捨て除算演算子> | <べき乗演算子> |  '(' | ')' | '[' | ']' | '{' | '}' | ',' | '.' | ':'

<論理和演算子> ::= 'or'

<論理積演算子> ::= 'and'

<否定演算子> ::= 'not'

<比較演算子> ::= '==' | '!=' | '>' | '<' | '>=' | '<=' | 'in' | 'not' 'in'

<累算演算子1> ::= '+=' | '-=' 

<累算演算子2> ::= '*=' | '/=' | '%=' | '//='

<累算演算子3> ::= '**='

<代入演算子> ::= ‘=’ 

<加算演算子> ::= '+' 

<減算演算子> ::= '-'

<乗算演算子> ::= '*'

<除算演算子> ::= '/' 

<剰余演算子> ::= '%'

<切り捨て除算演算子> ::= '//'

<べき乗演算子> ::= '**'

<分離記号> ::= <空白> | <コメント行>

<空白> ::= ‘スペース文字’ | ‘タブ文字’ | ‘改行文字’

<コメント行> ::= ‘#’ {‘改行文字’ 以外の任意の文字 } ‘改行文字’


---------------------------------------------------------------------------------------------------------------------
# 構文規約

<プログラム> := {<文>}

<文> := <import文> | <式> | <出力指定> | <if文> | <for文> | <while文>

<import文> := 'import' <識別子>

<式> := <集合式> | <結合式> | <リスト> | <代入文> | <算術式> | <条件式>

<集合式> := '{' <集合式> '}'

<結合式> := '(' <式> ')'

<リスト> := '[' <式> ']'

<代入文> := (<識別子> {{',' <識別子>} [',' ]} | <添字表示>) '=' ( <列挙> | <int式> | <float式> | <input式> | <map式> | <list式> | <添字表示> | <式>)

<添字表示> := <識別子> {'(' (<整数> | <識別子>) ')'}

<列挙> := <識別子> {{',' <識別子>} [',' ]} | <整数> {{',' <整数>} [',' ]} | <実数> {{',' <実数>} [',' ]} | <文字列> {{',' <文字列>} [',' ]}

<算術式> := <算術項1> { (<加算演算子> | <減算演算子> | <累算演算子1>) <算術項1> }

<算術項1> := <算術項2> {(<乗算演算子> | <除算演算子> | <切り捨て除算演算子> | <剰余演算子> | 
<累算演算子2>) <算術項2>}

<算術項2> := <算術因子> {(<べき乗演算子> | <累算演算子3>) <算術因子>}

<算術因子> := <識別子> | {(<加算演算子> | <減算演算子>)}<整数> | <実数> | <文字列> | '(' <算術式> ')' | <添字表示>

<条件式> := <条件項> {<論理和演算子> <条件項>}

<条件項> := <条件因子> {<論理積演算子> <条件因子>}

<条件因子> := (<否定演算子>|ε)(<比較式>|'('<条件式>')')

<比較式> := <算術式> <比較演算子> <算術式> 

<出力指定> := 'print' '(' <出力単位の並び> ')'

<出力単位の並び> := ε | <出力単位> { ',' (<sep式> | <end式>) }

<出力単位> := <式> | <文字列>

<sep式> := 'sep' '=' <文字列>

<end式> := 'sep' '=' <文字列>

<int式> := 'int' '(' <input式> | <文字列> | <式>')'

<float式> := 'float' '(' <input式> | <文字列> | <式>')'

<input式> := 'input' '(' ')' {'.' <split式>}

<map式> := 'map' '(' 'int' | 'float' ',' <input式> ')'

<split式> := 'split' '(' {<文字列>} ')'

<list式> := '[' {'list'} '(' <map式>  | <int式> | <input式>')' 'for' <識別子> 'in' 'range' '(' <式> ')' ']'

<if文> := 'if' <式> ':' '\n'
 <インデント> {<文>} <デインデント> 
 {'elif' <式> ':' '\n' 
 <インデント> {<文>} <デインデント> }
 {'else' ':' '\n'
  <インデント> {<文>} <デインデント> }

<for文> := 'for' <識別子> 'in' <式> ':' '\n'
 <インデント> {<文>} <デインデント> 
 | 
 'for' <識別子> 'in' <range式> ':' '\n' 
 <インデント> {<文>} <デインデント>

<while文> := 'while' <式> ':' '\n' 
<インデント> {<文>} <デインデント>

<range式> := 'range' '(' <式> ')' | 'range' '(' <式> ',' <式> ')' | 'range' '(' <式> ',' <式> ',' <式> ')'
